<div align="center">

# Plug13

</div>

<table>
<tr><td align="center" width="2000"><b>
<a href="README.md">Go to English README version</a>
</b></td></tr>
</table>

Этот проект - интеграция [Space Station 13](https://spacestation13.com/) и [Buttplug.io](https://buttplug.io/) через сервис.

Реализован с использованием [Nuxt 3](https://nuxt.com/), [Socket.IO](https://socket.io/) и [buttplug-js](https://github.com/buttplugio/buttplug-js).

<table>
<tr><td><details>
<summary>Список содержимого</summary>

- [Space Station 13 - вкратце с Wiki](#space-station-13---вкратце-с-wiki)
- [Как использовать Plug13](#как-использовать-plug13)
- [А моё устройство поддерживается?](#какие-игрушки-устройства-поддерживаются)
- [Проект изнутри](#проект-изнутри)
- [Как запустить проект](#как-запустить-проект)

</details></td></tr>
</table>

## Space Station 13 - вкратце с Wiki

> Космическая станция 13 — это многопользовательская ролевая видеоигра с видом сверху вниз, работающая на бесплатном игровом движке BYOND, выпущенном в 2003 году.
>
> Действие игры происходит на футуристической космической станции; однако расположение внутриигрового мира может различаться в зависимости от игрового сервера. Например, на космическом корабле или экзопланете.
>
> Здесь можно работать вместе со своими товарищами по команде, выполняя задачи и обеспечивая бесперебойную работу станции, а можно устроить хаос и мешать остальным работать. В игре имеется множество различных игровых режимов и условий победы, которые могут варьироваться от простого выживания до сложных заговоров и политических интриг.

Это грубый перевод написанного на [английской Википедии](https://en.wikipedia.org/w/index.php?title=Space_Station_13&oldid=1208832640)

## Как использовать Plug13

- Открываешь и авторизуешься (авторизация просто чтобы дискорд отсеял ботов, спам и подобное).
- Подключаешься к Intiface Central.
- Находишь свои устройства и настраиваешь их.
  Приложение позволяет тебе установить модификатор для каждого типа взаимодействий с персонажем:
  - `Лицо` - поцелуи и оральные *взаимодействия*, `Грудь` - женские груди и сама грудь... `Пах` - пах , `Зад` - попка.
  - `Обычный` - обнимашки, поглаживания по голове и т.п.
  - `Мазохизм` - для игроков Службы Безопасности.
- Генерируешь и копируешь код `XXXXX-XXXXX`.
- Открываешь игру и вводишь/вставляешь этот код в специальном меню.
  *По умолчанию `OOC` -> `Plug13`*
- Наслаждаешься игрой.

### *– Это сложно!*

Да, это так. Но это единственный способ, которым это можно сделать без взлома игры и риска быть забаненным.

А также, когда всё уже настроено, достаточно просто подключиться к Intiface и скопировать код. И всё.

## Какие ~~игрушки~~ устройства поддерживаются?

Сейчас поддерживаются только вибрация и поступательные движения.

Список устройств, которые умеют подключаться к buttplug.io можно найти на [IoST Index](https://iostindex.com/?filter0ButtplugSupport=4).
На этом же сайте размещены и реферальные ссылки от разработчиков buttplug.io на покупку устройств - отличный способ их поддержать.

## Проект изнутри

Итак, Space Station 13 — это игра, в которой есть РП (ролевые) серверы. И на каждом сервере запущен свой собственный код - билд.

Этот проект состоит из двух частей:
- Сервис Plug13, который является мостом между Intiface Central и игрой.
- Модуль для серверов SS13, который позволяет серверу SS13 и сервису Plug13 общаться.

Пошагово:
- При вызове серверной процедуры `plug13.send_emote(type, strength, duration)`...
- SS13 сервер отправляет HTTP(S) POST запрос серверу Plug13.
- Plug13 сервер отправляет WS сообщение на веб-клиент Plug13.
- Веб-клиент применяет *указанные пользователем модификаторы* и отправляет сообщение Intiface Central.
- Intiface Central принимает сообщение и активирует приводы устройств.

### Что? Почемуууу?!

*\- Эй! Intiface Central уже - мост, позволяющий сделать это без всяких внешних серверов!*

Да. Я знаю. Но.

Движок BYOND настолько стар... Он не позволяет использовать WS на стороне клиента нативно.
Агам.

Теоретически я мог бы использовать скрытое в интерфейсе игры окно IE11, но реализовать это было бы гораздо большей болью в заднице, чем этот веб-сервис.

## Как запустить проект

Проект использует [`pnpm`](https://pnpm.io/).

```bash
# Установить модули:
pnpm install

# Запустить сервер разработки:
pnpm run dev

# Собрать проект в production режиме:
pnpm run build

# Запустить предпросмотр production сборки:
pnpm run preview
```
